#! /bin/bash

services=("product-service" "order-service" "auth-service")

mkdir -p build/

for service in ${services[@]}; do 
    mkdir -p build/${service} &&\
    cd ${service} &&\
    ./gradlew clean build -x check &&\
    cp build/libs/*SNAPSHOT.jar ../build/${service}/ &&\
    echo "ðŸŸ¢ Build ${service} complete"
    cp src/main/resources/application.properties ../build/${service}/ &&\
    echo "ðŸŸ¢ Updated ${service} configuration"
    cd ..
done
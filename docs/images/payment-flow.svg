<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1332px" preserveAspectRatio="none" style="width:1600px;height:1332px;" version="1.1" viewBox="0 0 1600 1332" width="1600px" zoomAndPan="magnify"><defs><filter height="300%" id="fa87mm2rg5ovp" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fa87mm2rg5ovp)" height="770.184" style="stroke: #000000; stroke-width: 2.0;" width="1575" x="13" y="454.8341"/><rect fill="#FFFFFF" height="143.806" style="stroke: none; stroke-width: 1.0;" width="1575" x="13" y="664.7762"/><rect fill="#FFFFFF" height="416.436" style="stroke: none; stroke-width: 1.0;" width="1575" x="13" y="808.5822"/><rect fill="#FFFFFF" filter="url(#fa87mm2rg5ovp)" height="258.63" style="stroke: #000000; stroke-width: 2.0;" width="1555" x="23" y="959.3881"/><rect fill="#FFFFFF" height="80.3939" style="stroke: none; stroke-width: 1.0;" width="1555" x="23" y="1137.6242"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="51" x2="51" y1="89.0679" y2="1242.0181"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="183" x2="183" y1="89.0679" y2="1242.0181"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="354.5" x2="354.5" y1="89.0679" y2="1242.0181"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="727.5" x2="727.5" y1="89.0679" y2="1242.0181"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1224" x2="1224" y1="89.0679" y2="1242.0181"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1370" x2="1370" y1="89.0679" y2="1242.0181"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1502" x2="1502" y1="89.0679" y2="1242.0181"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="33" y="84.9659">User</text><ellipse cx="51.5" cy="13" fill="#FEFECE" filter="url(#fa87mm2rg5ovp)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M51.5,21 L51.5,48 M38.5,29 L64.5,29 M51.5,48 L38.5,63 M51.5,48 L64.5,63 " fill="none" filter="url(#fa87mm2rg5ovp)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="33" y="1255.9841">User</text><ellipse cx="51.5" cy="1270.0861" fill="#FEFECE" filter="url(#fa87mm2rg5ovp)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M51.5,1278.0861 L51.5,1305.0861 M38.5,1286.0861 L64.5,1286.0861 M51.5,1305.0861 L38.5,1320.0861 M51.5,1305.0861 L64.5,1320.0861 " fill="none" filter="url(#fa87mm2rg5ovp)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fa87mm2rg5ovp)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="126" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="133" y="72.9659">Shopping Cart</text><rect fill="#FEFECE" filter="url(#fa87mm2rg5ovp)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="126" y="1241.0181"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="133" y="1262.9841">Shopping Cart</text><rect fill="#FEFECE" filter="url(#fa87mm2rg5ovp)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="299.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="306.5" y="72.9659">Order Service</text><rect fill="#FEFECE" filter="url(#fa87mm2rg5ovp)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="299.5" y="1241.0181"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="306.5" y="1262.9841">Order Service</text><rect fill="#FEFECE" filter="url(#fa87mm2rg5ovp)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="124" x="663.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="670.5" y="72.9659">Payment Service</text><rect fill="#FEFECE" filter="url(#fa87mm2rg5ovp)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="124" x="663.5" y="1241.0181"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="670.5" y="1262.9841">Payment Service</text><rect fill="#FEFECE" filter="url(#fa87mm2rg5ovp)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="155" x="1145" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="141" x="1152" y="72.9659">Razorpay Test Server</text><rect fill="#FEFECE" filter="url(#fa87mm2rg5ovp)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="155" x="1145" y="1241.0181"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="141" x="1152" y="1262.9841">Razorpay Test Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="1314" y="84.9659">Order Database</text><path d="M1352.5,34 C1352.5,24 1370.5,24 1370.5,24 C1370.5,24 1388.5,24 1388.5,34 L1388.5,60 C1388.5,70 1370.5,70 1370.5,70 C1370.5,70 1352.5,70 1352.5,60 L1352.5,34 " fill="#FEFECE" filter="url(#fa87mm2rg5ovp)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1352.5,34 C1352.5,44 1370.5,44 1370.5,44 C1370.5,44 1388.5,44 1388.5,34 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="1314" y="1255.9841">Order Database</text><path d="M1352.5,1270.0861 C1352.5,1260.0861 1370.5,1260.0861 1370.5,1260.0861 C1370.5,1260.0861 1388.5,1260.0861 1388.5,1270.0861 L1388.5,1296.0861 C1388.5,1306.0861 1370.5,1306.0861 1370.5,1306.0861 C1370.5,1306.0861 1352.5,1306.0861 1352.5,1296.0861 L1352.5,1270.0861 " fill="#FEFECE" filter="url(#fa87mm2rg5ovp)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1352.5,1270.0861 C1352.5,1280.0861 1370.5,1280.0861 1370.5,1280.0861 C1370.5,1280.0861 1388.5,1280.0861 1388.5,1270.0861 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="1437" y="84.9659">Payment Database</text><path d="M1484.5,34 C1484.5,24 1502.5,24 1502.5,24 C1502.5,24 1520.5,24 1520.5,34 L1520.5,60 C1520.5,70 1502.5,70 1502.5,70 C1502.5,70 1484.5,70 1484.5,60 L1484.5,34 " fill="#FEFECE" filter="url(#fa87mm2rg5ovp)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1484.5,34 C1484.5,44 1502.5,44 1502.5,44 C1502.5,44 1520.5,44 1520.5,34 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="1437" y="1255.9841">Payment Database</text><path d="M1484.5,1270.0861 C1484.5,1260.0861 1502.5,1260.0861 1502.5,1260.0861 C1502.5,1260.0861 1520.5,1260.0861 1520.5,1270.0861 L1520.5,1296.0861 C1520.5,1306.0861 1502.5,1306.0861 1502.5,1306.0861 C1502.5,1306.0861 1484.5,1306.0861 1484.5,1296.0861 L1484.5,1270.0861 " fill="#FEFECE" filter="url(#fa87mm2rg5ovp)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1484.5,1270.0861 C1484.5,1280.0861 1502.5,1280.0861 1502.5,1280.0861 C1502.5,1280.0861 1520.5,1280.0861 1520.5,1270.0861 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><polygon fill="#A80036" points="171.5,118.7739,181.5,122.7739,171.5,126.7739,175.5,122.7739" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="177.5" y1="122.7739" y2="122.7739"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="58.5" y="116.9649">Initiates Checkout</text><polygon fill="#A80036" points="342.5,150.4799,352.5,154.4799,342.5,158.4799,346.5,154.4799" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="183.5" x2="348.5" y1="154.4799" y2="154.4799"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="190.5" y="148.6709">Requests Order Creation</text><polygon fill="#A80036" points="1358.5,182.186,1368.5,186.186,1358.5,190.186,1362.5,186.186" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="354.5" x2="1364.5" y1="186.186" y2="186.186"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="361.5" y="180.377">Saves Order Details</text><polygon fill="#A80036" points="365.5,213.892,355.5,217.892,365.5,221.892,361.5,217.892" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="359.5" x2="1369.5" y1="217.892" y2="217.892"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="371.5" y="212.083">Order ID Generated</text><polygon fill="#A80036" points="715.5,245.598,725.5,249.598,715.5,253.598,719.5,249.598" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="354.5" x2="721.5" y1="249.598" y2="249.598"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="333" x="361.5" y="243.789">Initiates Payment (Order ID, Amount, Payment Method)</text><polygon fill="#A80036" points="1490.5,277.304,1500.5,281.304,1490.5,285.304,1494.5,281.304" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="727.5" x2="1496.5" y1="281.304" y2="281.304"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="734.5" y="275.495">Stores Payment Attempt (Pending)</text><polygon fill="#A80036" points="1212.5,309.01,1222.5,313.01,1212.5,317.01,1216.5,313.01" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="727.5" x2="1218.5" y1="313.01" y2="313.01"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="349" x="734.5" y="307.201">Sends Payment Request (Order ID, Amount, Currency, etc.)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="727.5" x2="737.5" y1="344.716" y2="340.716"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="727.5" x2="737.5" y1="344.716" y2="348.716"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="727.5" x2="1223.5" y1="344.716" y2="344.716"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="744.5" y="338.907">Payment Page URL &amp; Order Details</text><polygon fill="#A80036" points="62.5,372.4221,52.5,376.4221,62.5,380.4221,58.5,376.4221" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="56.5" x2="726.5" y1="376.4221" y2="376.4221"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="220" x="68.5" y="370.6131">Redirects to Razorpay Payment Page</text><polygon fill="#A80036" points="1212.5,404.1281,1222.5,408.1281,1212.5,412.1281,1216.5,408.1281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="1218.5" y1="408.1281" y2="408.1281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="203" x="58.5" y="402.3191">Enters Payment Details &amp; Submits</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="61.5" y1="439.8341" y2="435.8341"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="61.5" y1="439.8341" y2="443.8341"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="51.5" x2="1223.5" y1="439.8341" y2="439.8341"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="68.5" y="434.0251">Payment Processing / Redirection</text><path d="M13,454.8341 L76,454.8341 L76,463.8341 L66,473.8341 L13,473.8341 L13,454.8341 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="770.184" style="stroke: #000000; stroke-width: 2.0;" width="1575" x="13" y="454.8341"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="28" y="469.7311">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="236" x="91" y="468.593">[Payment Success (Webhook Notification)]</text><polygon fill="#A80036" points="738.5,494.2461,728.5,498.2461,738.5,502.2461,734.5,498.2461" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="732.5" x2="1223.5" y1="498.2461" y2="498.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="405" x="744.5" y="492.4371">Sends Webhook Notification (Payment ID, Status=Success, Order ID)</text><polygon fill="#A80036" points="1490.5,525.9521,1500.5,529.9521,1490.5,533.9521,1494.5,529.9521" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="727.5" x2="1496.5" y1="529.9521" y2="529.9521"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="341" x="734.5" y="524.1431">Updates Payment Status (Success, Razorpay Payment ID)</text><polygon fill="#A80036" points="365.5,557.6582,355.5,561.6582,365.5,565.6582,361.5,561.6582" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="359.5" x2="726.5" y1="561.6582" y2="561.6582"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="349" x="371.5" y="555.8492">Notifies Payment Success (Order ID, Razorpay Payment ID)</text><polygon fill="#A80036" points="1358.5,589.3642,1368.5,593.3642,1358.5,597.3642,1362.5,593.3642" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="354.5" x2="1364.5" y1="593.3642" y2="593.3642"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="251" x="361.5" y="587.5552">Updates Order Status (Payment Received)</text><polygon fill="#A80036" points="365.5,621.0702,355.5,625.0702,365.5,629.0702,361.5,625.0702" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="359.5" x2="1369.5" y1="625.0702" y2="625.0702"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="371.5" y="619.2612">Acknowledges Update</text><polygon fill="#A80036" points="62.5,652.7762,52.5,656.7762,62.5,660.7762,58.5,656.7762" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="56.5" x2="353.5" y1="656.7762" y2="656.7762"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="68.5" y="650.9672">Order Confirmation</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="1588" y1="665.7762" y2="665.7762"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="232" x="18" y="677.5351">[Payment Failure (Webhook Notification)]</text><polygon fill="#A80036" points="738.5,701.4641,728.5,705.4641,738.5,709.4641,734.5,705.4641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="732.5" x2="1223.5" y1="705.4641" y2="705.4641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="473" x="744.5" y="699.6551">Sends Webhook Notification (Payment ID, Status=Failed, Order ID, Error Details)</text><polygon fill="#A80036" points="1490.5,733.1701,1500.5,737.1701,1490.5,741.1701,1494.5,737.1701" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="727.5" x2="1496.5" y1="737.1701" y2="737.1701"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="409" x="734.5" y="731.3611">Updates Payment Status (Failed, Razorpay Payment ID, Error Details)</text><polygon fill="#A80036" points="365.5,764.8762,355.5,768.8762,365.5,772.8762,361.5,768.8762" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="359.5" x2="726.5" y1="768.8762" y2="768.8762"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="287" x="371.5" y="763.0671">Notifies Payment Failure (Order ID, Error Details)</text><polygon fill="#A80036" points="62.5,796.5822,52.5,800.5822,62.5,804.5822,58.5,800.5822" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="56.5" x2="353.5" y1="800.5822" y2="800.5822"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="68.5" y="794.7732">Payment Declined Notification</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="1588" y1="809.5822" y2="809.5822"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="192" x="18" y="821.3411">[Payment Pending (User Redirect)]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="61.5" y1="849.2701" y2="845.2701"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="61.5" y1="849.2701" y2="853.2701"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="51.5" x2="1223.5" y1="849.2701" y2="849.2701"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="310" x="68.5" y="843.4611">Redirects back to Platform (with Status/Payment ID)</text><polygon fill="#A80036" points="715.5,876.9761,725.5,880.9761,715.5,884.9761,719.5,880.9761" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="721.5" y1="880.9761" y2="880.9761"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="58.5" y="875.1671">Queries Payment Status (Payment ID)</text><polygon fill="#A80036" points="1212.5,908.6821,1222.5,912.6821,1212.5,916.6821,1216.5,912.6821" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="727.5" x2="1218.5" y1="912.6821" y2="912.6821"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="236" x="734.5" y="906.8731">Requests Payment Details (Payment ID)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="727.5" x2="737.5" y1="944.3881" y2="940.3881"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="727.5" x2="737.5" y1="944.3881" y2="948.3881"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="727.5" x2="1223.5" y1="944.3881" y2="944.3881"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="247" x="744.5" y="938.5791">Returns Payment Status (Success/Failure)</text><path d="M23,959.3881 L86,959.3881 L86,968.3881 L76,978.3881 L23,978.3881 L23,959.3881 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="258.63" style="stroke: #000000; stroke-width: 2.0;" width="1555" x="23" y="959.3881"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="38" y="974.2851">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="145" x="101" y="973.147">[Payment Now Successful]</text><polygon fill="#A80036" points="1490.5,998.8002,1500.5,1002.8002,1490.5,1006.8002,1494.5,1002.8002" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="727.5" x2="1496.5" y1="1002.8002" y2="1002.8002"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="341" x="734.5" y="996.9912">Updates Payment Status (Success, Razorpay Payment ID)</text><polygon fill="#A80036" points="365.5,1030.5062,355.5,1034.5062,365.5,1038.5062,361.5,1034.5062" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="359.5" x2="726.5" y1="1034.5062" y2="1034.5062"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="349" x="371.5" y="1028.6972">Notifies Payment Success (Order ID, Razorpay Payment ID)</text><polygon fill="#A80036" points="1358.5,1062.2122,1368.5,1066.2122,1358.5,1070.2122,1362.5,1066.2122" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="354.5" x2="1364.5" y1="1066.2122" y2="1066.2122"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="251" x="361.5" y="1060.4032">Updates Order Status (Payment Received)</text><polygon fill="#A80036" points="365.5,1093.9182,355.5,1097.9182,365.5,1101.9182,361.5,1097.9182" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="359.5" x2="1369.5" y1="1097.9182" y2="1097.9182"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="371.5" y="1092.1092">Acknowledges Update</text><polygon fill="#A80036" points="62.5,1125.6242,52.5,1129.6242,62.5,1133.6242,58.5,1129.6242" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="56.5" x2="353.5" y1="1129.6242" y2="1129.6242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="68.5" y="1123.8152">Order Confirmation</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="1578" y1="1138.6242" y2="1138.6242"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="167" x="28" y="1150.3831">[Payment Still Pending/Failed]</text><polygon fill="#A80036" points="1490.5,1174.3121,1500.5,1178.3121,1490.5,1182.3121,1494.5,1178.3121" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="727.5" x2="1496.5" y1="1178.3121" y2="1178.3121"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="213" x="734.5" y="1172.5031">Updates/Maintains Payment Status</text><polygon fill="#A80036" points="62.5,1206.0181,52.5,1210.0181,62.5,1214.0181,58.5,1210.0181" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="56.5" x2="353.5" y1="1210.0181" y2="1210.0181"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="189" x="68.5" y="1204.2091">Updates Order/Payment Status</text><!--MD5=[e342cf7354499e8e229740fdd3b3a6e9]
@startuml payment-flow
actor User
participant "Shopping Cart" as Cart
participant "Order Service" as OrderSvc
participant "Payment Service" as PaymentSvc
participant "Razorpay Test Server" as Razorpay
database "Order Database" as OrderDB
database "Payment Database" as PaymentDB

User -> Cart: Initiates Checkout
Cart -> OrderSvc: Requests Order Creation
OrderSvc -> OrderDB: Saves Order Details
OrderDB - -> OrderSvc: Order ID Generated

OrderSvc -> PaymentSvc: Initiates Payment (Order ID, Amount, Payment Method)
PaymentSvc -> PaymentDB: Stores Payment Attempt (Pending)
PaymentSvc -> Razorpay: Sends Payment Request (Order ID, Amount, Currency, etc.)
Razorpay - ->> PaymentSvc: Payment Page URL & Order Details
User <- - PaymentSvc: Redirects to Razorpay Payment Page
User -> Razorpay: Enters Payment Details & Submits
Razorpay - ->> User: Payment Processing / Redirection

alt Payment Success (Webhook Notification)
Razorpay -> PaymentSvc: Sends Webhook Notification (Payment ID, Status=Success, Order ID)
PaymentSvc -> PaymentDB: Updates Payment Status (Success, Razorpay Payment ID)
PaymentSvc -> OrderSvc: Notifies Payment Success (Order ID, Razorpay Payment ID)
OrderSvc -> OrderDB: Updates Order Status (Payment Received)
OrderDB - -> OrderSvc: Acknowledges Update
OrderSvc -> User: Order Confirmation
else Payment Failure (Webhook Notification)
Razorpay -> PaymentSvc: Sends Webhook Notification (Payment ID, Status=Failed, Order ID, Error Details)
PaymentSvc -> PaymentDB: Updates Payment Status (Failed, Razorpay Payment ID, Error Details)
PaymentSvc -> OrderSvc: Notifies Payment Failure (Order ID, Error Details)
OrderSvc -> User: Payment Declined Notification
else Payment Pending (User Redirect)
Razorpay - ->> User: Redirects back to Platform (with Status/Payment ID)
User -> PaymentSvc: Queries Payment Status (Payment ID)
PaymentSvc -> Razorpay: Requests Payment Details (Payment ID)
Razorpay - ->> PaymentSvc: Returns Payment Status (Success/Failure)
alt Payment Now Successful
PaymentSvc -> PaymentDB: Updates Payment Status (Success, Razorpay Payment ID)
PaymentSvc -> OrderSvc: Notifies Payment Success (Order ID, Razorpay Payment ID)
OrderSvc -> OrderDB: Updates Order Status (Payment Received)
OrderDB - -> OrderSvc: Acknowledges Update
OrderSvc -> User: Order Confirmation
else Payment Still Pending/Failed
PaymentSvc -> PaymentDB: Updates/Maintains Payment Status
OrderSvc -> User: Updates Order/Payment Status
end
end

@enduml

PlantUML version 1.2020.02(Sun Mar 01 15:52:07 IST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.6+7-Ubuntu-124.04.1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>
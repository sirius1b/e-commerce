<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1447px" preserveAspectRatio="none" style="width:1180px;height:1447px;" version="1.1" viewBox="0 0 1180 1447" width="1180px" zoomAndPan="magnify"><defs><filter height="300%" id="fk5k85yc819ne" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fk5k85yc819ne)" height="290.336" style="stroke: #000000; stroke-width: 2.0;" width="712.5" x="400.5" y="373.716"/><rect fill="#FFFFFF" height="143.806" style="stroke: none; stroke-width: 1.0;" width="712.5" x="400.5" y="520.2461"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="26" x2="26" y1="89.0679" y2="1357.1724"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="228" x2="228" y1="89.0679" y2="1357.1724"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="465.5" x2="465.5" y1="89.0679" y2="1357.1724"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="750" x2="750" y1="89.0679" y2="1357.1724"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="881" x2="881" y1="89.0679" y2="1357.1724"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1029" x2="1029" y1="89.0679" y2="1357.1724"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1138" x2="1138" y1="89.0679" y2="1357.1724"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="8" y="84.9659">User</text><ellipse cx="26.5" cy="13" fill="#FEFECE" filter="url(#fk5k85yc819ne)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M26.5,21 L26.5,48 M13.5,29 L39.5,29 M26.5,48 L13.5,63 M26.5,48 L39.5,63 " fill="none" filter="url(#fk5k85yc819ne)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="8" y="1371.1384">User</text><ellipse cx="26.5" cy="1385.2403" fill="#FEFECE" filter="url(#fk5k85yc819ne)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M26.5,1393.2403 L26.5,1420.2403 M13.5,1401.2403 L39.5,1401.2403 M26.5,1420.2403 L13.5,1435.2403 M26.5,1420.2403 L39.5,1435.2403 " fill="none" filter="url(#fk5k85yc819ne)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fk5k85yc819ne)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="160" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="167" y="72.9659">Client Application</text><rect fill="#FEFECE" filter="url(#fk5k85yc819ne)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="160" y="1356.1724"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="167" y="1378.1384">Client Application</text><rect fill="#FEFECE" filter="url(#fk5k85yc819ne)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="410.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="417.5" y="72.9659">Order Service</text><rect fill="#FEFECE" filter="url(#fk5k85yc819ne)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="410.5" y="1356.1724"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="417.5" y="1378.1384">Order Service</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="694" y="84.9659">Order Database</text><path d="M732.5,34 C732.5,24 750.5,24 750.5,24 C750.5,24 768.5,24 768.5,34 L768.5,60 C768.5,70 750.5,70 750.5,70 C750.5,70 732.5,70 732.5,60 L732.5,34 " fill="#FEFECE" filter="url(#fk5k85yc819ne)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M732.5,34 C732.5,44 750.5,44 750.5,44 C750.5,44 768.5,44 768.5,34 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="694" y="1371.1384">Order Database</text><path d="M732.5,1385.2403 C732.5,1375.2403 750.5,1375.2403 750.5,1375.2403 C750.5,1375.2403 768.5,1375.2403 768.5,1385.2403 L768.5,1411.2403 C768.5,1421.2403 750.5,1421.2403 750.5,1421.2403 C750.5,1421.2403 732.5,1421.2403 732.5,1411.2403 L732.5,1385.2403 " fill="#FEFECE" filter="url(#fk5k85yc819ne)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M732.5,1385.2403 C732.5,1395.2403 750.5,1395.2403 750.5,1395.2403 C750.5,1395.2403 768.5,1395.2403 768.5,1385.2403 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#fk5k85yc819ne)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="124" x="817" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="824" y="72.9659">Payment Service</text><rect fill="#FEFECE" filter="url(#fk5k85yc819ne)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="124" x="817" y="1356.1724"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="824" y="1378.1384">Payment Service</text><rect fill="#FEFECE" filter="url(#fk5k85yc819ne)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="144" x="955" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="130" x="962" y="72.9659">Notification Service</text><rect fill="#FEFECE" filter="url(#fk5k85yc819ne)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="144" x="955" y="1356.1724"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="130" x="962" y="1378.1384">Notification Service</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="1113" y="84.9659">Admin</text><ellipse cx="1138" cy="13" fill="#FEFECE" filter="url(#fk5k85yc819ne)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1138,21 L1138,48 M1125,29 L1151,29 M1138,48 L1125,63 M1138,48 L1151,63 " fill="none" filter="url(#fk5k85yc819ne)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="1113" y="1371.1384">Admin</text><ellipse cx="1138" cy="1385.2403" fill="#FEFECE" filter="url(#fk5k85yc819ne)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1138,1393.2403 L1138,1420.2403 M1125,1401.2403 L1151,1401.2403 M1138,1420.2403 L1125,1435.2403 M1138,1420.2403 L1151,1435.2403 " fill="none" filter="url(#fk5k85yc819ne)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#EEEEEE" filter="url(#fk5k85yc819ne)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1165" x="3" y="120.9209"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1168" y1="120.9209" y2="120.9209"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1168" y1="123.9209" y2="123.9209"/><rect fill="#EEEEEE" filter="url(#fk5k85yc819ne)" height="25.706" style="stroke: #000000; stroke-width: 2.0;" width="210" x="480.5" y="109.0679"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="193" x="486.5" y="126.9649">Create Order (from checkout)</text><polygon fill="#A80036" points="216.5,164.4799,226.5,168.4799,216.5,172.4799,220.5,168.4799" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="26.5" x2="222.5" y1="168.4799" y2="168.4799"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="33.5" y="162.6709">Completes Checkout</text><polygon fill="#A80036" points="453.5,196.186,463.5,200.186,453.5,204.186,457.5,200.186" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="228.5" x2="459.5" y1="200.186" y2="200.186"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="213" x="235.5" y="194.377">POST /orders (order details, user ID)</text><polygon fill="#A80036" points="738.5,227.892,748.5,231.892,738.5,235.892,742.5,231.892" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="465.5" x2="744.5" y1="231.892" y2="231.892"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="472.5" y="226.083">Save new order</text><polygon fill="#A80036" points="476.5,259.598,466.5,263.598,476.5,267.598,472.5,263.598" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="470.5" x2="749.5" y1="263.598" y2="263.598"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="482.5" y="257.789">Order ID</text><polygon fill="#A80036" points="869,291.304,879,295.304,869,299.304,873,295.304" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="465.5" x2="875" y1="295.304" y2="295.304"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="472.5" y="289.495">make payment</text><polygon fill="#A80036" points="476.5,323.01,466.5,327.01,476.5,331.01,472.5,327.01" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="470.5" x2="880" y1="327.01" y2="327.01"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="482.5" y="321.201">Payment Status</text><polygon fill="#A80036" points="239.5,354.716,229.5,358.716,239.5,362.716,235.5,358.716" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="233.5" x2="464.5" y1="358.716" y2="358.716"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="245.5" y="352.907">Payment Pending Status</text><path d="M400.5,373.716 L463.5,373.716 L463.5,382.716 L453.5,392.716 L400.5,392.716 L400.5,373.716 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="290.336" style="stroke: #000000; stroke-width: 2.0;" width="712.5" x="400.5" y="373.716"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="415.5" y="388.6131">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="116" x="478.5" y="387.475">[Payment successful]</text><polygon fill="#A80036" points="476.5,413.1281,466.5,417.1281,476.5,421.1281,472.5,417.1281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="470.5" x2="880" y1="417.1281" y2="417.1281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="482.5" y="411.3191">Payment Success</text><polygon fill="#A80036" points="738.5,444.8341,748.5,448.8341,738.5,452.8341,742.5,448.8341" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="465.5" x2="744.5" y1="448.8341" y2="448.8341"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="214" x="472.5" y="443.0251">Update order status (e.g., "success")</text><polygon fill="#A80036" points="476.5,476.5401,466.5,480.5401,476.5,484.5401,472.5,480.5401" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="470.5" x2="749.5" y1="480.5401" y2="480.5401"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="482.5" y="474.7311">OK</text><polygon fill="#A80036" points="1017,508.2461,1027,512.2461,1017,516.2461,1021,512.2461" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="465.5" x2="1023" y1="512.2461" y2="512.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="472.5" y="506.4371">Notify user (order confirmation)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="400.5" x2="1113" y1="521.2461" y2="521.2461"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="92" x="405.5" y="533.005">[Payment failed]</text><polygon fill="#A80036" points="476.5,556.934,466.5,560.934,476.5,564.934,472.5,560.934" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="470.5" x2="880" y1="560.934" y2="560.934"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="482.5" y="555.125">Payment fail</text><polygon fill="#A80036" points="738.5,588.6401,748.5,592.6401,738.5,596.6401,742.5,592.6401" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="465.5" x2="744.5" y1="592.6401" y2="592.6401"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="472.5" y="586.831">Update order status (e.g., "payment_failed")</text><polygon fill="#A80036" points="476.5,620.3461,466.5,624.3461,476.5,628.3461,472.5,624.3461" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="470.5" x2="749.5" y1="624.3461" y2="624.3461"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="482.5" y="618.5371">OK</text><polygon fill="#A80036" points="1017,652.0521,1027,656.0521,1017,660.0521,1021,656.0521" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="465.5" x2="1023" y1="656.0521" y2="656.0521"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="472.5" y="650.2431">Notify user (order confirmation)</text><rect fill="#EEEEEE" filter="url(#fk5k85yc819ne)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1165" x="3" y="692.9051"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1168" y1="692.9051" y2="692.9051"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1168" y1="695.9051" y2="695.9051"/><rect fill="#EEEEEE" filter="url(#fk5k85yc819ne)" height="25.706" style="stroke: #000000; stroke-width: 2.0;" width="129" x="521" y="681.0521"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="112" x="527" y="698.9491">List User's Orders</text><polygon fill="#A80036" points="216.5,736.4641,226.5,740.4641,216.5,744.4641,220.5,740.4641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="26.5" x2="222.5" y1="740.4641" y2="740.4641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="33.5" y="734.6551">Requests Order History</text><polygon fill="#A80036" points="453.5,768.1701,463.5,772.1701,453.5,776.1701,457.5,772.1701" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="228.5" x2="459.5" y1="772.1701" y2="772.1701"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="235.5" y="766.3611">GET /orders (user ID)</text><polygon fill="#A80036" points="738.5,799.8762,748.5,803.8762,738.5,807.8762,742.5,803.8762" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="465.5" x2="744.5" y1="803.8762" y2="803.8762"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="472.5" y="798.0671">Retrieve orders for user</text><polygon fill="#A80036" points="476.5,831.5822,466.5,835.5822,476.5,839.5822,472.5,835.5822" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="470.5" x2="749.5" y1="835.5822" y2="835.5822"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="482.5" y="829.7732">List of orders</text><polygon fill="#A80036" points="239.5,863.2882,229.5,867.2882,239.5,871.2882,235.5,867.2882" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="233.5" x2="464.5" y1="867.2882" y2="867.2882"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="245.5" y="861.4792">List of orders</text><polygon fill="#A80036" points="216.5,894.9942,226.5,898.9942,216.5,902.9942,220.5,898.9942" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="26.5" x2="222.5" y1="898.9942" y2="898.9942"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="33.5" y="893.1852">Order history displayed</text><rect fill="#EEEEEE" filter="url(#fk5k85yc819ne)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1165" x="3" y="928.8472"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1168" y1="928.8472" y2="928.8472"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1168" y1="931.8472" y2="931.8472"/><rect fill="#EEEEEE" filter="url(#fk5k85yc819ne)" height="25.706" style="stroke: #000000; stroke-width: 2.0;" width="104" x="533.5" y="916.9942"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="87" x="539.5" y="934.8912">Order Details</text><polygon fill="#A80036" points="216.5,972.4062,226.5,976.4062,216.5,980.4062,220.5,976.4062" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="26.5" x2="222.5" y1="976.4062" y2="976.4062"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="33.5" y="970.5972">Requests Order Details (by ID)</text><polygon fill="#A80036" points="453.5,1004.1123,463.5,1008.1123,453.5,1012.1123,457.5,1008.1123" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="228.5" x2="459.5" y1="1008.1123" y2="1008.1123"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="235.5" y="1002.3032">GET /orders/{id}</text><polygon fill="#A80036" points="738.5,1035.8183,748.5,1039.8183,738.5,1043.8183,742.5,1039.8183" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="465.5" x2="744.5" y1="1039.8183" y2="1039.8183"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="472.5" y="1034.0093">Retrieve order by ID</text><polygon fill="#A80036" points="476.5,1067.5243,466.5,1071.5243,476.5,1075.5243,472.5,1071.5243" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="470.5" x2="749.5" y1="1071.5243" y2="1071.5243"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="482.5" y="1065.7153">Order details</text><polygon fill="#A80036" points="239.5,1099.2303,229.5,1103.2303,239.5,1107.2303,235.5,1103.2303" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="233.5" x2="464.5" y1="1103.2303" y2="1103.2303"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="245.5" y="1097.4213">Order details</text><polygon fill="#A80036" points="216.5,1130.9363,226.5,1134.9363,216.5,1138.9363,220.5,1134.9363" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="26.5" x2="222.5" y1="1134.9363" y2="1134.9363"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="33.5" y="1129.1273">Order details displayed</text><rect fill="#EEEEEE" filter="url(#fk5k85yc819ne)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1165" x="3" y="1164.7893"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1168" y1="1164.7893" y2="1164.7893"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1168" y1="1167.7893" y2="1167.7893"/><rect fill="#EEEEEE" filter="url(#fk5k85yc819ne)" height="25.706" style="stroke: #000000; stroke-width: 2.0;" width="205" x="483" y="1152.9363"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="188" x="489" y="1170.8333">Update Order Status (Admin)</text><polygon fill="#A80036" points="476.5,1208.3484,466.5,1212.3484,476.5,1216.3484,472.5,1212.3484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="470.5" x2="1137" y1="1212.3484" y2="1212.3484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="482.5" y="1206.5393">PUT /orders/{id}/status (new status)</text><polygon fill="#A80036" points="738.5,1240.0544,748.5,1244.0544,738.5,1248.0544,742.5,1244.0544" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="465.5" x2="744.5" y1="1244.0544" y2="1244.0544"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="472.5" y="1238.2454">Update order status (new status)</text><polygon fill="#A80036" points="476.5,1271.7604,466.5,1275.7604,476.5,1279.7604,472.5,1275.7604" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="470.5" x2="749.5" y1="1275.7604" y2="1275.7604"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="482.5" y="1269.9514">OK</text><polygon fill="#A80036" points="1017,1303.4664,1027,1307.4664,1017,1311.4664,1021,1307.4664" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="465.5" x2="1023" y1="1307.4664" y2="1307.4664"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="472.5" y="1301.6574">Notify user (status update)</text><polygon fill="#A80036" points="1126,1335.1724,1136,1339.1724,1126,1343.1724,1130,1339.1724" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="465.5" x2="1132" y1="1339.1724" y2="1339.1724"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="472.5" y="1333.3634">Status updated</text><!--MD5=[731ae08cf9d17d0d973348813ba09079]
@startuml order-flow
actor User 
participant "Client Application" as Client
participant "Order Service" as OrderSvc
database "Order Database" as OrderDB
participant "Payment Service" as PaymentSvc
participant "Notification Service" as NotificationSvc
actor Admin

== Create Order (from checkout) ==
User -> Client: Completes Checkout
Client -> OrderSvc: POST /orders (order details, user ID)
OrderSvc -> OrderDB: Save new order
OrderDB - -> OrderSvc: Order ID
OrderSvc -> PaymentSvc: make payment
PaymentSvc - -> OrderSvc: Payment Status
OrderSvc - -> Client: Payment Pending Status


alt Payment successful
    PaymentSvc -> OrderSvc: Payment Success

    OrderSvc -> OrderDB: Update order status (e.g., "success")
    OrderDB - -> OrderSvc: OK
    OrderSvc -> NotificationSvc: Notify user (order confirmation)
else Payment failed
    PaymentSvc -> OrderSvc: Payment fail
    OrderSvc -> OrderDB: Update order status (e.g., "payment_failed")
    OrderDB - -> OrderSvc: OK
    OrderSvc -> NotificationSvc: Notify user (order confirmation)
end

== List User's Orders ==
User -> Client: Requests Order History
Client -> OrderSvc: GET /orders (user ID)
OrderSvc -> OrderDB: Retrieve orders for user
OrderDB - -> OrderSvc: List of orders
OrderSvc - -> Client: List of orders
Client <- - User: Order history displayed

== Order Details ==
User -> Client: Requests Order Details (by ID)
Client -> OrderSvc: GET /orders/{id}
OrderSvc -> OrderDB: Retrieve order by ID
OrderDB - -> OrderSvc: Order details
OrderSvc - -> Client: Order details
Client <- - User: Order details displayed

== Update Order Status (Admin) ==
Admin -> OrderSvc: PUT /orders/{id}/status (new status)
OrderSvc -> OrderDB: Update order status (new status)
OrderDB - -> OrderSvc: OK
OrderSvc -> NotificationSvc: Notify user (status update)
OrderSvc - -> Admin: Status updated
@enduml

PlantUML version 1.2020.02(Sun Mar 01 15:52:07 IST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.6+7-Ubuntu-124.04.1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>